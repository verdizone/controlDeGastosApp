import{j as e,a as r,r as n,C as M,b as E,F as x,S as L,c as O,L as P,d as I,T,R as k,e as w}from"./vendor.799073b3.js";const _=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}};_();const $=({filtro:t,setFiltro:a})=>e("div",{className:"filtros sombra contenedor",children:e("form",{children:r("div",{className:"campo",children:[e("label",{htmlFor:"filtro",children:"Filtrar Gastos"}),r("select",{id:"filtro",value:t,onChange:i=>a(i.target.value),children:[e("option",{value:"",children:"Todas las Categor\xEDas"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"varios",children:"Varios"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]})})}),A=({children:t,tipo:a})=>e("div",{className:`alerta ${a}`,children:t}),R=({presupuesto:t,setPresupuesto:a,isValidPresupuesto:i,setIsValidPresupuesto:c})=>{const[o,s]=n.exports.useState("");return r("div",{className:"nuevo-presupuesto contenedor sombra",children:[r("form",{onSubmit:l=>{if(l.preventDefault(),!t||t<0){s("No es un presupuesto v\xE1lido"),c(!1);return}s(""),c(!0)},className:"formulario",children:[r("div",{className:"campo",children:[e("label",{htmlFor:"",children:"Definir Presupuesto"}),e("input",{type:"number",className:"nuevo-presupuesto",placeholder:"A\xF1ade tu presupuesto",value:t,onChange:l=>a(Number(l.target.value))})]}),e("div",{className:"",children:e("input",{type:"submit",value:"Agregar Presupuesto "})})]}),o&&e(A,{tipo:"error",children:o})]})},G=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),B=()=>{const t=Math.random().toString(36).substr(2);return Date.now().toString(36)+t},V=t=>{const a=new Date(t),i={year:"numeric",month:"long",day:"2-digit"};return a.toLocaleDateString("es-ES",i)};const z=({gastos:t,presupuesto:a,setGastos:i,setPresupuesto:c,setIsValidPresupuesto:o})=>{const[s,u]=n.exports.useState(0),[l,v]=n.exports.useState(0),[p,f]=n.exports.useState(100);n.exports.useEffect(()=>{const h=t.reduce((N,C)=>C.cantidad+N,0),b=a-h,S=(a-b)/a*100;setTimeout(()=>{f(S.toFixed(2))},750),v(h),u(b)},[t]);const g=()=>{if(confirm("\xBFDeseas reiniciar presupuesto y gastos?")){i([]),c(0),o(!1);return}};return r("div",{className:"contenedor-presupuesto contenedor sombra dos-columnas",children:[e("div",{children:e(M,{styles:E({pathColor:p>100?"#DC2626":"#3B82F6",trailColor:"#F5F5F5",textColor:p>100?"#DC2626":"#3B82F6"}),value:p,text:`${p}% Gastado`})}),r("div",{className:"contenido-presupuesto",children:[e("button",{className:"reset-app",type:"button",onClick:g,children:"Resetear App"}),r("p",{children:["Presupuesto: ",e("span",{children:G(a)})]}),r("p",{className:`${s<0?"negativo":""}`,children:["Disponible: ",e("span",{children:G(s)})]}),r("p",{children:["Gastado: ",e("span",{children:G(l)})]})]})]})},J=({presupuesto:t,setPresupuesto:a,isValidPresupuesto:i,setIsValidPresupuesto:c,gastos:o,setGastos:s})=>r("header",{children:[e("h1",{children:"Planificador de Gastos"}),i?e(x,{children:e(z,{presupuesto:Number(t),setPresupuesto:a,gastos:o,setGastos:s,setIsValidPresupuesto:c})}):e(x,{children:e(R,{presupuesto:Number(t),setPresupuesto:a,isValidPresupuesto:i,setIsValidPresupuesto:c})})]});var U="/assets/icono_ahorro.ff2959d3.svg",q="/assets/icono_casa.1170ce11.svg",H="/assets/icono_comida.db0a9016.svg",K="/assets/icono_gastos.e6dea3b0.svg",Q="/assets/icono_ocio.ad5d0e9e.svg",W="/assets/icono_salud.41ba3136.svg",X="/assets/icono_suscripciones.97f04dc8.svg";const Y={ahorro:U,comida:H,casa:q,varios:K,ocio:Q,salud:W,suscripciones:X},D=({gasto:t,setGastoEditar:a,eliminarGasto:i})=>{const{cantidad:c,categoria:o,id:s,nombre:u,fecha:l}=t,v=()=>e(P,{children:e(I,{onClick:()=>a(t),children:"Editar"})}),p=()=>e(T,{children:e(I,{onClick:()=>i(s),destructive:!0,children:"Eliminar"})});return e(L,{children:e(O,{leadingActions:v(),trailingActions:p(),children:r("div",{className:"gasto sombra",children:[r("div",{className:"contenido-gasto",children:[e("img",{src:Y[o],alt:"Icono Gasto"}),r("div",{className:"descripcion-gasto",children:[e("p",{className:"categoria",children:o}),e("p",{className:"nombre-gasto",children:u}),r("p",{className:"fecha-gasto",children:["Agregado el: ","",e("span",{children:V(l)})]})]})]}),r("p",{className:"cantidad-gasto",children:["$",c]})]})})})},Z=({gastos:t,setGastoEditar:a,eliminarGasto:i,filtro:c,gastosFiltrados:o})=>e("div",{className:"listado-gastos contenedor",children:c?r(x,{children:[e("h2",{children:o.length?"Gastos":"No hay gastos en esta categor\xEDa"}),o.map(s=>e(D,{gasto:s,setGastoEditar:a,eliminarGasto:i},s.id))]}):r(x,{children:[e("h2",{children:t.length?"Gastos":"No se han agregado gastos"}),t.map(s=>e(D,{gasto:s,setGastoEditar:a,eliminarGasto:i},s.id))]})});var ee="/assets/cerrar.ab3aac92.svg";const oe=({setModal:t,animarModal:a,setAnimarModal:i,guardarGasto:c,gastoEditar:o,setGastoEditar:s})=>{const[u,l]=n.exports.useState(""),[v,p]=n.exports.useState(""),[f,g]=n.exports.useState(""),[h,b]=n.exports.useState(""),[S,N]=n.exports.useState(""),[C,F]=n.exports.useState("");return n.exports.useEffect(()=>{Object.keys(o).length>0&&(p(o.nombre),g(o.cantidad),b(o.categoria),N(o.id),F(o.fecha))},[]),r("div",{className:"modal",children:[e("div",{className:"cerrar-modal",children:e("img",{src:ee,alt:"IconoCerrarModal",onClick:()=>{i(!1),s({}),setTimeout(()=>{t(!1)},500)}})}),e("div",{children:r("form",{onSubmit:d=>{if(d.preventDefault(),[v,f,h].includes("")){l("Todos los campos son obligatorios"),setTimeout(()=>{l("")},3e3);return}l(""),c({nombre:v,cantidad:f,categoria:h,id:S,fecha:C})},className:`formulario ${a?"animar":"cerrar"}`,children:[u&&e(A,{tipo:"error",children:u}),e("legend",{children:o.nombre?"Editar Gasto":"Nuevo Gasto"}),r("div",{className:"campo",children:[e("label",{htmlFor:"nombre",children:"Nombre Gasto"}),e("input",{id:"nombre",type:"text",placeholder:"Ej: Visita al m\xE9dico",value:v,onChange:d=>p(d.target.value)})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"cantidad",children:"Cantidad"}),e("input",{id:"cantidad",type:"number",placeholder:"Ej: 200",value:f,onChange:d=>g(Number(d.target.value))})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"categoria",children:"Categor\xEDa"}),r("select",{id:"categoria",value:h,onChange:d=>b(d.target.value),children:[e("option",{value:"",children:"---Seleccione---"}),e("option",{value:"ahorro",children:"Ahorro"}),e("option",{value:"comida",children:"Comida"}),e("option",{value:"casa",children:"Casa"}),e("option",{value:"varios",children:"Varios"}),e("option",{value:"ocio",children:"Ocio"}),e("option",{value:"salud",children:"Salud"}),e("option",{value:"suscripciones",children:"Suscripciones"})]})]}),e("div",{children:e("input",{type:"submit",value:o.nombre?"Guardar Cambios":"A\xF1adir Gasto"})})]})})]})};var te="/assets/nuevo-gasto.3ab385ce.svg";const ae=()=>{const[t,a]=n.exports.useState(localStorage.getItem("gastos")?JSON.parse(localStorage.getItem("gastos")):[]),[i,c]=n.exports.useState(Number(localStorage.getItem("presupuesto"))),[o,s]=n.exports.useState(!1),[u,l]=n.exports.useState(!1),[v,p]=n.exports.useState(!1),[f,g]=n.exports.useState({}),[h,b]=n.exports.useState(""),[S,N]=n.exports.useState([]);return n.exports.useEffect(()=>{Object.keys(f).length>0&&(l(!0),setTimeout(()=>{p(!0)},500))},[f]),n.exports.useEffect(()=>{localStorage.setItem("presupuesto",i!=null?i:0)},[i]),n.exports.useEffect(()=>{localStorage.setItem("gastos",JSON.stringify(t!=null?t:[]))},[t]),n.exports.useEffect(()=>{if(h){const m=t.filter(d=>d.categoria===h);N(m)}},[h]),n.exports.useEffect(()=>{var d;((d=Number(localStorage.getItem("presupuesto")))!=null?d:0)>0&&s(!0)},[]),r("div",{className:u?"fijar":"",children:[e(J,{presupuesto:i,setPresupuesto:c,isValidPresupuesto:o,setIsValidPresupuesto:s,gastos:t,setGastos:a}),o&&r(x,{children:[r("main",{children:[e($,{filtro:h,setFiltro:b}),e(Z,{gastos:t,setGastoEditar:g,eliminarGasto:m=>{const d=t.filter(y=>y.id!==m);a(d)},filtro:h,gastosFiltrados:S})]}),e("div",{className:"nuevo-gasto",children:e("img",{src:te,alt:"Nuevo Gasto",onClick:()=>{l(!0),g({}),setTimeout(()=>{p(!0)},500)}})})]}),u&&e(oe,{setModal:l,animarModal:v,setAnimarModal:p,guardarGasto:m=>{if(m.id){const d=t.map(y=>y.id===m.id?m:y);a(d),g({})}else m.id=B(),m.fecha=Date.now(),a([...t,m]);p(!1),setTimeout(()=>{l(!1)},500)},gastoEditar:f,setGastoEditar:g})]})};k.render(e(w.StrictMode,{children:e(ae,{})}),document.getElementById("root"));
